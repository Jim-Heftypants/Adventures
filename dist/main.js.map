{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/entities/character.js","webpack:///./src/entities/enemy.js","webpack:///./src/entities/entity.js","webpack:///./src/index.js","webpack:///./src/levels/level.js","webpack:///./src/screen_controllers/entity_controller.js","webpack:///./src/screen_controllers/fades.js"],"names":["tutorialWarrior","classCreator","tutorialCleric","tutorialWizard","tutorialRogue","Warrior","Cleric","Wizard","Rogue","ghettoWizard","wizard2","wizard3","EWizard","dumbCleric","cleric2","cleric3","ECleric","loserRogue","rogue2","rogue3","ERogue","punchingBag","weakWarrior","warrior2","warrior3","EWarrior","intro","healIntro","rangedIntro","puttinItAllTogetha","ezDoppelganger","level2","level3","doppelganger","Entity","klass","range","baseHP","ms","attackSpeed","attackDMG","allied","img","pos","defense","hp","baseMS","basePos","baseAS","as","baseDMG","dmg","imgName","attackImages","moveImages","baseImg","container","currentAction","currentAnimation","imgCycle","target","allies","enemies","movingOutTheWay","observer","window","addEventListener","addInlineStyle","document","getElementsByClassName","src","getElementById","style","opacity","display","left","top","endPos","deltaX","deltaY","Math","abs","xChange","yChange","numRepeats","floor","attackOnFinish","clearInterval","width","height","posChange","vectorToScalar","bigDiv","difference","innerWidth","offsetWidth","checker","setInterval","frame","self","autoAttack","widthAddition","heightAddition","entity","leftBar","rightBar","leftWidth","rightWidth","shuffle","i","length","move","withinAttackRange","movePos","slice","transform","targetChar","clearIntervals","animateAttack","attack","selectedChar","setTargetAndAttack","trackTarget","charactersStacked","addition","setHpBars","killEntitiy","border","borderInterval","beginAttack","ability","a","j","random","closeAction","controlsContainer","startGameButton","controlsButton","levelButtonContainer","closeButton","levelButtons","removeEventListener","loadLevel","cursor","chars","Object","values","charactersObj","charactersArr","enemiesArr","enemiesObj","Level","name","enemyList","message","characterList","levelOne","levelTwo","levelThree","levelFour","levelFive","levelSix","levelSeven","levelEight","hasBeenLoaded","levelHasEnded","levels","levelsObj","currentLevelNumber","maxLevelNumber","highestLevelAvailable","livingEnemies","livingChars","addDeathListener","MutationObserver","mutations","forEach","mutationRecord","c","en","endGame","addEntityEvents","cloneArr","selfIndex","splice","allyClickEvents","e","entityName","className","stopPropagation","enemyClickEvents","setupEntities","deSelect","initializeGameOpening","levelNumber","deSelectButton","gameContainer","x","y","level","levelNameDisp","innerHTML","secondAction","beginLevel","action","fadeOut","fadeIn","levelMessage","setInitialTargets","loadInCharacters","targetIndex","hpBar","observerObserve","element","observe","attributes","attributeFilter","charsList","allCharsList","allEnemyList","disconnect","gameFadeTimer","disp","resetGame","won","levChars","levEnems","op","timerDown","timerUp"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import classCreator from './entity';\n\n/*\nclassName\nrange\nmaxHP\nMS\nAS\nDMG\ntrue\nimg\npos\ndefense\n*/\n\n// tutorials\nexport const tutorialWarrior = new classCreator('Warrior', 10, 100, 10, 1000, 10, true, \"a3\", [450, 500], 20);\nexport const tutorialCleric = new classCreator('Cleric', 'infinite', 100, 10, 1500, -10, true, \"a4\", [200, 300], 10);\nexport const tutorialWizard = new classCreator('Wizard', \"infinite\", 100, 10, 2000, 20, true, \"a1\", [200, 600], 12);\nexport const tutorialRogue = new classCreator(\"Rogue\", 10, 100, 10, 800, 10, true, \"a2\", [900, 500], 16)\n\n// tank\nexport const Warrior = new classCreator('Warrior', 10, 100, 10, 1000, 10, true, \"a3\", [100, 400], 20);\n\n// heals\nexport const Cleric = new classCreator('Cleric', 'infinite', 100, 10, 1500, -10, true, \"a4\", [400, 100], 10);\n\n// rdps\nexport const Wizard = new classCreator('Wizard', \"infinite\", 100, 10, 2000, 20, true, \"a1\", [100, 100], 12);\n\n// mdps\nexport const Rogue = new classCreator(\"Rogue\", 10, 100, 10, 800, 10, true, \"a2\", [900, 500], 16)","import classCreator from './entity.js';\n\n/*\nclassName\nrange\nmaxHP\nMS\nAS\nDMG\nfalse\nimg\npos\ndefense\n*/\n\n// \n\n// rdps\nconst tutorialWizard = new classCreator('EWizard', 'infinite', 60, 10, 1500, 10, false, 'e1', [1000, 600], 8);\nconst ghettoWizard = new classCreator('EWizard', 'infinite', 60, 10, 1500, 12, false, 'e1', [500, 500], 8);\nconst wizard2 = new classCreator('EWizard', 'infinite', 70, 10, 1500, 13, false, 'e1', [500, 500], 8);\nconst wizard3 = new classCreator('EWizard', 'infinite', 70, 10, 1500, 13, false, 'e2', [700, 200], 8);\nconst EWizard = new classCreator('EWizard', 'infinite', 100, 10, 2000, 20, false, \"e1\", [500, 500], 15);\n\n// heals\nconst tutorialCleric = new classCreator('ECleric', 'infinite', 60, 10, 2000, -8, false, \"e4\", [1000, 300], 8)\nconst dumbCleric = new classCreator('ECleric', 'infinite', 60, 10, 2000, -10, false, \"e4\", [1000, 100], 8);\nconst cleric2 = new classCreator('ECleric', 'infinite', 70, 10, 1750, -14, false, \"e4\", [1000, 100], 8);\nconst cleric3 = new classCreator('ECleric', 'infinite', 70, 10, 1750, -14, false, \"e3\", [300, 400], 8);\nconst ECleric = new classCreator('ECleric', 'infinite', 100, 10, 1500, -10, false, \"e4\", [1000, 100], 10);\n\n// mdps\nconst tutorialRogue = new classCreator(\"ERogue\", 10, 60, 1, 1200, 7, false, \"e2\", [700, 200], 14);\nconst loserRogue = new classCreator(\"ERogue\", 10, 60, 10, 1200, 9, false, \"e2\", [700, 200], 14);\nconst rogue2 = new classCreator(\"ERogue\", 10, 60, 10, 1200, 9, false, \"e2\", [700, 200], 14);\nconst rogue3 = new classCreator(\"ERogue\", 10, 60, 10, 1200, 9, false, \"e1\", [500, 500], 14);\nconst ERogue = new classCreator(\"ERogue\", 10, 100, 10, 800, 10, false, \"e2\", [700, 200], 18);\n\n// tank\nconst punchingBag = new classCreator('EWarrior', 10, 100, 10, 1000, 1, false, \"e3\", [650, 500], 20);\nconst tutorialWarrior = new classCreator('EWarrior', 10, 100, 10, 1000, 6, false, \"e3\", [650, 500], 20);\nconst weakWarrior = new classCreator('EWarrior', 10, 60, 10, 1000, 8, false, \"e3\", [300, 400], 20);\nconst warrior2 = new classCreator('EWarrior', 10, 60, 10, 1000, 8, false, \"e3\", [300, 400], 20);\nconst warrior3 = new classCreator('EWarrior', 10, 60, 10, 1000, 8, false, \"e4\", [1000, 100], 20);\nconst EWarrior = new classCreator('EWarrior', 10, 120, 10, 1000, 10, false, \"e3\", [300, 400], 20);\n\n// level 1\nexport const intro = [punchingBag];\n\n// level 2\nexport const healIntro = [tutorialWarrior, tutorialCleric];\n\n// level 3\nexport const rangedIntro = [tutorialWarrior, tutorialCleric, tutorialWizard];\n\n// level 4\nexport const puttinItAllTogetha = [tutorialWarrior, tutorialCleric, tutorialWizard, tutorialRogue];\n\n// level 5\nexport const ezDoppelganger = [ghettoWizard, loserRogue, weakWarrior, dumbCleric];\n\n// level 6\nexport const level2 = [rogue2, rogue3, warrior2, warrior3];\n\n// level 7\nexport const level3 = [wizard2, wizard3, cleric2, cleric3];\n\n// level 8\nexport const doppelganger = [EWizard, ERogue, EWarrior, ECleric];\n","class Entity { // this. is selectedChar\n    constructor(klass=\"\", range=0, baseHP=0, ms=0, attackSpeed=0, attackDMG, allied, img=\"\", pos=[0, 0], defense=0) {\n        this.klass = klass;\n\n        this.range = range;\n        this.baseHP = baseHP;\n        this.hp = this.baseHP;\n        this.baseMS = ms; // speed / time\n        this.ms = this.baseMS;\n        this.allied = allied; // true === player character\n        this.pos = pos;\n        this.basePos = []; this.basePos[0] = pos[0]; this.basePos[1] = pos[1];\n        this.baseAS = attackSpeed;\n        this.as = this.baseAS;\n        this.baseDMG = attackDMG;\n        this.dmg = this.baseDMG;\n        this.defense = defense;\n\n        this.imgName = img;\n        this.img; // base standing image\n        this.attackImages; // cycle through array of images\n        this.moveImages; // cycle through array of images\n        this.baseImg; // standard stand image\n        this.container;\n\n        this.currentAction;\n        this.currentAnimation;\n        this.imgCycle = 0;\n\n        this.target;\n\n        this.allies;\n        this.enemies;\n\n        this.movingOutTheWay = false;\n\n        this.observer;\n\n        window.addEventListener('load', () => {\n            this.addInlineStyle();\n        });\n    }\n\n    addInlineStyle() {\n        this.img = document.getElementsByClassName(this.imgName + \"-image-display\")[0];\n        this.baseImg = document.getElementsByClassName(this.klass)[0];\n        this.img.src = this.baseImg.src;\n        this.attackImages = document.getElementsByClassName(this.klass);\n        this.container = document.getElementById(`${this.imgName}-display`);\n        this.container.style.opacity = 0; // fading in so started at op 0\n        this.container.style.display = 'none';\n        this.img.style.display = \"\";\n        this.container.style.left = this.pos[0] + \"px\";\n        this.container.style.top = this.pos[1] + \"px\";\n    }\n\n    vectorToScalar(endPos) {\n        const deltaX = this.pos[0] - endPos[0];\n        const deltaY = this.pos[1] - endPos[1];\n        if (Math.abs(deltaX) + Math.abs(deltaY) === 0) {\n            return ([0, 0, 0]);\n        }\n        let xChange = -1 * this.ms * (deltaX / (Math.abs(deltaX) + Math.abs(deltaY)));\n        let yChange = -1 * this.ms * (deltaY / (Math.abs(deltaY) + Math.abs(deltaX)));\n        if (xChange === 0 || xChange === -0) {\n            xChange = 0;\n            const numRepeats = Math.abs(Math.floor(deltaY / yChange));\n            return ([xChange, yChange, numRepeats])\n        }\n        if (yChange === -0) {\n            yChange = 0;\n        }\n        \n        const numRepeats = Math.abs(Math.floor(deltaX / xChange));\n        return ([xChange, yChange, numRepeats])\n    }\n\n    move(endPos, attackOnFinish = false) {\n        this.movingOutTheWay = true;\n        clearInterval(this.currentAction);\n        clearInterval(this.currentAnimation);\n        this.img.src = this.baseImg.src;\n        endPos[0] = Math.floor(endPos[0] - (this.img.width));\n        endPos[1] = Math.floor(endPos[1] - (this.img.height * (3/4)));\n        let pos = this.pos;\n        let posChange = this.vectorToScalar(endPos);\n        // console.log(\"pos change on move\", posChange);\n        const bigDiv = document.getElementById('game-container');\n        const difference = Math.floor((window.innerWidth - bigDiv.offsetWidth) / 2);\n        const checker = difference + Math.floor(bigDiv.offsetWidth);\n        this.currentAction = setInterval(() => frame(this), 20);\n        function frame(self) {\n            if (posChange[2] === 0) {\n            // close animation\n                clearInterval(self.currentAction);\n                self.movingOutTheWay = false;\n                pos[0] = Math.floor(pos[0]); pos[1] = Math.floor(pos[1]);\n                if (attackOnFinish) {\n                    // console.log('self in move end: ', self);\n                    self.autoAttack(attackOnFinish); // needs editing\n                }\n            } else { // need to add something for if (attackOnFinish) then update move destination to be the target's new position (with the modifiers)\n            // begin some kind of animation\n                pos[0] += posChange[0]; pos[1] += posChange[1];\n                if (pos[0] + Math.floor((3 * self.img.width) / 2) + 50 > checker) { pos[0] = checker - (Math.floor((3 * self.img.width) / 2) + 50);}\n                if (pos[0] < 15) {pos[0] = 15;}\n                if (pos[1] + Math.floor(self.img.height) > 800) { pos[1] = 800 - Math.floor(self.img.height);}\n                if (pos[1] < 15) {pos[1] = 15;}\n                // console.log('posChange: ', posChange);\n                // console.log('pos: ', pos);\n                self.container.style.top = Math.floor(pos[1]) + 'px';\n                self.container.style.left = Math.floor(pos[0]) + 'px';\n                posChange[2] -= 1;\n            }\n        }\n    }\n\n    withinAttackRange(target) {\n        // console.log('this in withinAttackRange: ', this);\n        if (this.range === 'infinite') { return true; }\n        // rectangle box for melee\n        const widthAddition = Math.floor((this.img.width / 2) + (target.img.width / 2));\n        if (this.pos[0] > target.pos[0] - widthAddition - this.range && this.pos[0] < target.pos[0] + widthAddition + this.range) {\n            const heightAddition = Math.floor(this.img.height / 4);\n            // console.log(\"this pos: \", this.pos);\n            // console.log(\"target pos: \", target.pos);\n            if (this.pos[1] > target.pos[1] - heightAddition && this.pos[1] < target.pos[1] + heightAddition) {\n                // console.log('within melee range');\n                return true;\n            }\n        }\n        // console.log('outside of range');\n        return false;\n    }\n\n    killEntitiy(entity) {\n        // console.log(entity.klass, \"killed\");\n        clearInterval(entity.currentAction);\n        clearInterval(entity.currentAnimation);\n        entity.img.src = entity.baseImg.src;\n        entity.hp = -100;\n        entity.container.style.display = \"none\";\n    }\n\n    animateAttack() {\n        if (this.attackImages) {\n            this.imgCycle += 1;\n            this.imgCycle = this.imgCycle % 4;\n            this.img.src = this.attackImages[this.imgCycle].src;\n        }\n    }\n\n    setHpBars() {\n        const leftBar = document.getElementById(`${this.imgName}-hp-left`);\n        const rightBar = document.getElementById(`${this.imgName}-hp-right`);\n        let leftWidth = Math.floor((this.hp / this.baseHP) * 100);\n        let rightWidth = 100 - leftWidth;\n        if (leftWidth < 0) leftWidth = 0;\n        if (rightWidth < 0) rightWidth = 0;\n        leftBar.style.width = leftWidth + '%';\n        rightBar.style.width = rightWidth + '%';\n    }\n\n    setTargetAndAttack() {\n        // console.log(this.klass, \"has finished attacking\", this.target.klass);\n\n        if (this.baseDMG > 0) {\n            this.enemies = shuffle(this.enemies);\n            for (let i = 0; i < this.enemies.length; i++) {\n                if (this.enemies[i].hp > 0) {\n                    this.target = this.enemies[i];\n                }\n            }\n            if (this.target.hp < 0) { return; }\n        } else {\n            this.allies = shuffle(this.allies);\n            for (let i = 0; i < this.allies.length; i++) {\n                if (this.allies[i].hp > 0) {\n                    this.target = this.allies[i];\n                }\n            }\n            if (this.target.hp < 0) { return; }\n        }\n        // console.log(this.klass, \"is now attacking\", this.target.klass);\n        this.autoAttack(this.target);\n    }\n\n    charactersStacked() {\n        for (let i = 0; i < this.allies.length; i++) {\n            if (!this.allies[i].movingOutTheWay) {                \n                const widthAddition = Math.floor(this.img.width / 2);\n                if (this.pos[0] > this.allies[i].pos[0] - widthAddition - this.range && this.pos[0] < this.allies[i].pos[0] + widthAddition + this.range) {\n                    const heightAddition = Math.floor(this.img.height / 2);\n                    if (this.pos[1] > this.allies[i].pos[1] - heightAddition && this.pos[1] < this.allies[i].pos[1] + heightAddition) {\n                        // console.log(this.klass, \"is moving to avoid\", this.allies[i].klass);\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n\n    trackTarget() { // hot code\n        const bigDiv = document.getElementById('game-container');\n        const difference = Math.floor((window.innerWidth - bigDiv.offsetWidth) / 2);\n        const checker = difference + Math.floor(bigDiv.offsetWidth);\n        this.currentAction = setInterval(() => move(this), 20);\n        function move(self) {\n            if (self.withinAttackRange(self.target)) {\n                clearInterval(self.currentAction);\n                self.autoAttack(self.target);\n                // console.log('auto attack called from track');\n            } else {\n                const pos = self.pos;\n                const movePos = self.target.pos.slice();\n                if (pos[0] - movePos[0] < 0) {\n                    movePos[0] -= self.target.img.width;\n                    self.img.style.transform = \"scaleX(1)\";\n                } else {\n                    movePos[0] += self.target.img.width;\n                    self.img.style.transform = \"scaleX(-1)\";\n                }\n                let posChange = self.vectorToScalar(movePos);\n                pos[0] += posChange[0]; pos[1] += posChange[1];\n                if (pos[0] + Math.floor(self.img.width) > checker) { pos[0] = checker - Math.floor(self.img.width); }\n                if (pos[0] < 15) { pos[0] = 15; }\n                if (pos[1] + Math.floor(self.img.height) > 850) { pos[1] = 850 - Math.floor(self.img.height); }\n                if (pos[1] < 15) { pos[1] = 15; }\n                self.container.style.top = Math.floor(pos[1]) + 'px';\n                self.container.style.left = Math.floor(pos[0]) + 'px';\n            }\n        }\n    }\n\n    beginAttack(targetChar) {\n        // make some kind of animation start\n        this.clearIntervals();\n        this.currentAnimation = setInterval(() => this.animateAttack(this), Math.floor(this.as / 4))\n        this.currentAction = setInterval(() => attack(this), this.as);\n        function attack(selectedChar) {\n            if (targetChar.hp <= 0) {\n                selectedChar.clearIntervals();\n                if (!selectedChar.allied) {\n                    // chose another hero to attack\n                    selectedChar.setTargetAndAttack();\n                    // maybe add something in for player to auto target upon deaths ?\n                }\n                return;\n            }\n            if (!selectedChar.withinAttackRange(targetChar)) {\n            // stop the animation\n                selectedChar.clearIntervals();\n                // console.log(selectedChar.klass, 'too far from', targetChar.klass, 'during attack - moving to new location');\n                selectedChar.trackTarget();\n                return;\n                // move to enemy's new location -- needs to track current position\n            } else if (selectedChar.charactersStacked()) {\n                selectedChar.movingOutTheWay = true;\n                const addition = Math.floor(selectedChar.img.width / 2);\n                if (selectedChar.img.style.transform === \"scaleX(-1)\") {\n                    // move to left side of target\n                    selectedChar.img.style.transform = \"scaleX(1)\";// - (addition / 4)\n                    selectedChar.move([targetChar.pos[0], targetChar.pos[1] + Math.floor(targetChar.img.height * 3 / 4)], targetChar)\n                } else {\n                    // move to right side of target;\n                    selectedChar.img.style.transform = \"scaleX(-1)\";\n                    selectedChar.move([targetChar.pos[0] + (4 * addition), targetChar.pos[1] + Math.floor(targetChar.img.height * 3 / 4)], targetChar)\n                }\n            } else {\n                targetChar.hp -= selectedChar.dmg;\n                if (targetChar.hp > targetChar.baseHP) { targetChar.hp = targetChar.baseHP; }\n                if (!targetChar.allied && selectedChar.allied && targetChar.baseDMG > 0 && selectedChar.defense > targetChar.target.defense) {\n                    targetChar.target = selectedChar;\n                    targetChar.clearIntervals();\n                    targetChar.autoAttack(targetChar.target);\n                    // console.log('enemy is now targetting: ', selectedChar);\n                }\n                // hp finalized\n                targetChar.setHpBars();\n                \n                // console.log('target hp at: ', targetChar.hp);\n                if (targetChar.hp <= 0) {\n                    // stop the animation\n                    selectedChar.clearIntervals();\n                    // console.log(targetChar, ' hp ', targetChar.hp);\n                    selectedChar.killEntitiy(targetChar);\n                    if (!selectedChar.allied) {\n                        // chose another hero to attack\n                        selectedChar.setTargetAndAttack();\n                    }\n                }\n                // console.log(\"border style: \", targetChar.img.style.border);\n                if (targetChar.img.style.border !== \"4px solid gold\") {\n                    if (selectedChar.baseDMG > 0) {\n                        targetChar.img.style.border = \"2px solid red\";\n                    } else {\n                        targetChar.img.style.border = \"2px solid green\";\n                    }\n                    let borderInterval = setInterval(() => {\n                        if (targetChar.img.style.border !== \"4px solid gold\") {\n                            targetChar.img.style.border = \"none\";\n                        }\n                        clearInterval(borderInterval);\n                    }, 500);\n                }\n            }\n        }\n    }\n\n    autoAttack(targetChar) {\n        // console.log('auto attack target: ', targetChar);\n        if (this.allied) { this.target = targetChar; } // can refactor out targets\n        if (this.withinAttackRange(targetChar)) {\n            if (this.pos[0] < targetChar.pos[0]) {\n                this.img.style.transform = \"scaleX(1)\";\n            } else {\n                this.img.style.transform = \"scaleX(-1)\";\n            }\n            this.beginAttack(targetChar);\n        } else {\n            this.trackTarget();\n        }\n    }\n\n    clearIntervals() {\n        clearInterval(this.currentAction);\n        clearInterval(this.currentAnimation);\n        this.img.src = this.baseImg.src;\n    }\n\n    useAbility(ability) {\n\n    }\n\n}\n\nfunction shuffle(a) {\n    for (let i = a.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [a[i], a[j]] = [a[j], a[i]];\n    }\n    return a;\n}\n\nexport default Entity;","// import * as characters from './entities/character';\n// import * as enemies from './entities/enemy';\nimport loadLevel from './screen_controllers/entity_controller';\n// import showControls from './screen_controllers/controls';\n\nfunction closeAction() {\n    controlsContainer.style.display = 'none';\n    startGameButton.style.display = '';\n    controlsButton.style.display = '';\n    levelButtonContainer.style.display = 'none';\n    closeButton.style.display = 'none';\n}\n\nwindow.addEventListener('load', () => {\n    const controlsContainer = document.getElementsByClassName('controls-display')[0];\n    const closeButton = document.getElementsByClassName('close')[0];\n    const startGameButton = document.getElementById('start-game-button');\n    const controlsButton = document.getElementById('game-controls-button');\n    const levelButtonContainer = document.getElementById('level-button-container');\n    const levelButtons = document.getElementsByClassName('level-button');\n    for (let i = 0; i < levelButtons.length; i++) {\n        levelButtons[i].addEventListener('click', () => { \n            closeButton.style.display = 'none';\n            closeButton.removeEventListener('click', closeAction);\n            loadLevel(i); \n        })\n    }\n    levelButtons[0].style.opacity = 100;\n    levelButtons[0].style.cursor = 'pointer';\n    closeButton.addEventListener('click', closeAction)\n    startGameButton.addEventListener('click', () => {\n        startGameButton.style.display = \"none\";\n        controlsButton.style.display = 'none';\n        levelButtonContainer.style.display = '';\n        closeButton.style.display = '';\n    })\n    controlsButton.addEventListener('click', () => {\n        startGameButton.style.display = \"none\";\n        controlsButton.style.display = 'none';\n        controlsContainer.style.display = '';\n        closeButton.style.display = '';\n    })\n})","import * as charactersObj from '../entities/character';\r\nimport * as enemiesObj from '../entities/enemy';\r\n\r\nconst chars = Object.values(charactersObj);\r\nconst charactersArr = chars.slice(4);\r\nconst enemiesArr = Object.values(enemiesObj);\r\n\r\nclass Level {\r\n    constructor(name, enemyList, message=\"\", characterList=charactersArr) {\r\n        this.name = name;\r\n        this.enemyList = enemyList;\r\n        this.message = message;\r\n        this.characterList = characterList;\r\n    }\r\n}\r\n\r\nexport const levelOne = new Level('One', enemiesArr[0], \r\n\"Click on the stick figure, the warrior, in black to select it. Then click on the red stick figure enemy to attack it or click anywhere on the map to move there. Once an action is performed, the character is de-selected.\",\r\n [chars[0]]);\r\nexport const levelTwo = new Level('Two', enemiesArr[1],\r\n\"The character with a staff is a cleric healer. Click on it and then on an allied unit or itself to begin healing them. De-select a character without making an action by clicking the X button on the top right.\",\r\n [chars[0], chars[1]]);\r\nexport const levelThree = new Level('Three', enemiesArr[2],\r\n\"The wizard can attack enemies from any range. Click on it then on an enemy to begin attacking immediately.\",\r\n [chars[0], chars[1], chars[2]]);\r\nexport const levelFour = new Level('Four', enemiesArr[3],\r\n\"The newest character addition is the rogue. Each character has a unique role. The Warrior is the best tank, the rogue the fastest attacker, the wizard the most versitile damage dealer, and the cleric the healer.\",\r\n[chars[0], chars[1], chars[2], chars[3]]);\r\nexport const levelFive = new Level('Five', enemiesArr[4]);\r\nexport const levelSix = new Level('Six', enemiesArr[5]);\r\nexport const levelSeven = new Level('Seven', enemiesArr[6]);\r\nexport const levelEight = new Level('Eight', enemiesArr[7]);","import * as levelsObj from '../levels/level';\r\nimport {fadeIn, fadeOut} from './fades';\r\n\r\nlet hasBeenLoaded = false;\r\nlet levelHasEnded = false;\r\n\r\nconst levels = Object.values(levelsObj);\r\nlet currentLevelNumber = 0;\r\nlet maxLevelNumber = 0;\r\nconst highestLevelAvailable = 8;\r\n\r\nlet selectedChar;\r\n\r\nlet livingEnemies = {};\r\nlet livingChars = {};\r\n\r\nfunction addDeathListener(entity) {\r\n    entity.observer = new MutationObserver(function(mutations) {\r\n        mutations.forEach(function (mutationRecord) {\r\n            // console.log(entity.imgName, 'style changed');\r\n            // console.log(mutationRecord);\r\n            if (mutationRecord.target.style.display === 'none') {\r\n                // console.log(entity.imgName, 'style === none');\r\n                if (entity.allied) {\r\n                    delete livingChars[entity.imgName];\r\n                } else {\r\n                    delete livingEnemies[entity.imgName];\r\n                }\r\n                const c = Object.values(livingChars);\r\n                const en = Object.values(livingEnemies);\r\n                // console.log('living allies: ', livingChars);\r\n                // console.log('living enemies: ', livingEnemies);\r\n                if (c.length === 0 || en.length === 0) {\r\n                    if (!levelHasEnded) {\r\n                        // console.log('end game called');\r\n                        endGame(c, en, currentLevelNumber);\r\n                    }\r\n                    // console.log('game should have ended');\r\n                    levelHasEnded = true;\r\n                }\r\n            }\r\n        });\r\n    })\r\n}\r\n\r\nfunction addEntityEvents(entity, allies, enemies) {\r\n    if (entity.imgName != \"\") {\r\n        if (!entity.observer) {\r\n            addDeathListener(entity);\r\n        }\r\n        entity.enemies = enemies;\r\n        const cloneArr = allies.slice();\r\n        let selfIndex;\r\n        for (let i = 0; i < cloneArr.length; i++) {\r\n            if (cloneArr[i].imgName === entity.imgName) { selfIndex = i; }\r\n        }\r\n        // remove self from allies list to prevent moving out of self image (healers excluded)\r\n        if (entity.baseDMG > 0) { cloneArr.splice(selfIndex, 1); }\r\n        entity.allies = cloneArr;\r\n    } else {\r\n        // console.log('broken image passed in for', entity.imgName);\r\n    }\r\n}\r\n\r\nconst allyClickEvents = (e) => {\r\n    // console.log('character click');\r\n    const entityName = e.target.className.slice(0, 2);\r\n    const entity = livingChars[entityName];\r\n    if (!selectedChar || selectedChar.hp < 0) {\r\n        selectedChar = entity;\r\n        entity.img.style.border = '4px solid gold';\r\n        // console.log('selected char: ', selectedChar.imgName);\r\n    } else if (selectedChar.baseDMG < 0) {\r\n        selectedChar.autoAttack(entity);\r\n        selectedChar.img.style.border = 'none';\r\n        selectedChar = null;\r\n    }\r\n    e.stopPropagation();\r\n}\r\n\r\nconst enemyClickEvents = (e) => {\r\n    const entityName = e.target.className.slice(0, 2);\r\n    // console.log('entity name', entityName);\r\n    const entity = livingEnemies[entityName];\r\n    // console.log('entity', entity);\r\n    if (selectedChar.hp < 0) {\r\n        selectedChar.img.style.border = 'none';\r\n        selectedChar = null;\r\n        return;\r\n    }\r\n    // console.log('enemy click');\r\n    if (selectedChar && selectedChar.allied && selectedChar.baseDMG > 0) {\r\n        clearInterval(selectedChar.currentAction);\r\n        clearInterval(selectedChar.currentAnimation);\r\n        selectedChar.autoAttack(entity);\r\n        selectedChar.img.style.border = 'none';\r\n        selectedChar = null;\r\n    }\r\n    e.stopPropagation(); // maybe move inside if\r\n}\r\n\r\nfunction setupEntities(charactersArr, enemiesArr) {\r\n    for (let i = 0; i < charactersArr.length; i++) {\r\n        addEntityEvents(charactersArr[i], charactersArr, enemiesArr);\r\n    }\r\n    for (let i = 0; i < enemiesArr.length; i++) {\r\n        addEntityEvents(enemiesArr[i], enemiesArr, charactersArr);\r\n    }\r\n}\r\n\r\nfunction deSelect() {\r\n    if (selectedChar) {\r\n        selectedChar.img.style.border = 'none';\r\n        selectedChar = null;\r\n    }\r\n}\r\n\r\nfunction initializeGameOpening(levelNumber) {\r\n    const deSelectButton = document.getElementById('reset-selected');\r\n    deSelectButton.addEventListener('click', deSelect);\r\n\r\n    setupEntities(levels[levelNumber].characterList, levels[levelNumber].enemyList); // modify to be all the img elements\r\n\r\n    // end click position\r\n    const gameContainer = document.getElementById('game-container');\r\n    gameContainer.addEventListener(\"click\", (e) => {\r\n        // console.log(e);\r\n        if (selectedChar) {\r\n            if (selectedChar.hp < 0) {\r\n                selectedChar = null;\r\n                return;\r\n            }\r\n            clearInterval(selectedChar.currentAction);\r\n            clearInterval(selectedChar.currentAnimation);\r\n            selectedChar.img.style.border = 'none';\r\n            selectedChar.move([e.x, e.y]);\r\n            selectedChar = null;\r\n        }\r\n    })\r\n\r\n    hasBeenLoaded = true;\r\n}\r\n\r\n\r\n\r\nfunction loadLevel(levelNumber) {\r\n    if (!hasBeenLoaded) {\r\n        initializeGameOpening(levelNumber);\r\n    }\r\n    if (levelNumber > maxLevelNumber) {\r\n        return;\r\n    }\r\n    const level = levels[levelNumber];\r\n    levelHasEnded = false;\r\n    currentLevelNumber = levelNumber;\r\n    // console.log('level selected: ', levelNumber);\r\n    const deSelectButton = document.getElementById('reset-selected');\r\n    deSelectButton.style.display = '';\r\n    const levelButtonContainer = document.getElementById('level-button-container');\r\n    levelButtonContainer.style.display = 'none';\r\n    const levelNameDisp = document.getElementById(`level-name-display`);\r\n    levelNameDisp.style.opacity = 0;\r\n    levelNameDisp.style.display = '';\r\n    levelNameDisp.innerHTML = 'Level ' + levels[levelNumber].name;\r\n    const secondAction = () => beginLevel(level.characterList, level.enemyList, level);\r\n    const action = () => fadeOut(levelNameDisp, secondAction);\r\n    fadeIn(levelNameDisp, action);\r\n}\r\n\r\nfunction beginLevel(charactersArr, enemiesArr, level) {\r\n    // console.log('begin level called');\r\n    const levelMessage = document.getElementById('tutorial-message');\r\n    levelMessage.innerHTML = level.message;\r\n    levelMessage.style.display = '';\r\n    setInitialTargets(charactersArr, enemiesArr);\r\n    loadInCharacters(charactersArr, enemiesArr);\r\n}\r\n\r\nfunction setInitialTargets(chars, enemies) {\r\n    for (let i = 0; i < enemies.length; i++) {\r\n        if (enemies[i].baseDMG > 0) {\r\n            const targetIndex = Math.floor(Math.random() * chars.length);\r\n            enemies[i].target = chars[targetIndex];\r\n        } else {\r\n            const targetIndex = Math.floor(Math.random() * enemies.length);\r\n            enemies[i].target = enemies[targetIndex];\r\n        }\r\n        // console.log(enemies[i].imgName, \"has target set to\", enemies[i].target);\r\n    }\r\n}\r\n\r\nfunction loadInCharacters(charactersArr, enemiesArr) {\r\n    for (let i = 0; i < charactersArr.length; i++) {\r\n        if (!charactersArr[i].observer) {\r\n            addEntityEvents(charactersArr[i], charactersArr, enemiesArr);\r\n        }\r\n        livingChars[charactersArr[i].imgName] = charactersArr[i];\r\n        charactersArr[i].container.style.top = charactersArr[i].pos[1] + 'px';\r\n        charactersArr[i].container.style.left = charactersArr[i].pos[0] + 'px';\r\n        charactersArr[i].container.style.opacity = 0;\r\n        charactersArr[i].container.style.display = '';\r\n        const hpBar = document.getElementById(`${charactersArr[i].imgName}-hp-bar`);\r\n        hpBar.style.display = \"flex\";\r\n        charactersArr[i].container.addEventListener('click', allyClickEvents);\r\n        charactersArr[i].img.src = charactersArr[i].baseImg.src;\r\n        fadeIn(charactersArr[i].container);\r\n        observerObserve(charactersArr[i]);\r\n    }\r\n    for (let i = 0; i < enemiesArr.length; i++) {\r\n        if (!enemiesArr[i].observer) {\r\n            addEntityEvents(enemiesArr[i], enemiesArr, charactersArr);\r\n        }\r\n        livingEnemies[enemiesArr[i].imgName] = enemiesArr[i];\r\n        enemiesArr[i].container.style.top = enemiesArr[i].pos[1] + 'px';\r\n        enemiesArr[i].container.style.left = enemiesArr[i].pos[0] + 'px';\r\n        enemiesArr[i].container.style.opacity = 0;\r\n        enemiesArr[i].container.style.display = '';\r\n        const hpBar = document.getElementById(`${enemiesArr[i].imgName}-hp-bar`);\r\n        hpBar.style.display = \"flex\";\r\n        enemiesArr[i].container.addEventListener('click', enemyClickEvents);\r\n        enemiesArr[i].img.src = enemiesArr[i].baseImg.src;\r\n        const action = () => enemiesArr[i].autoAttack(enemiesArr[i].target);\r\n        fadeIn(enemiesArr[i].container, action); // begin attacking target\r\n        observerObserve(enemiesArr[i]);\r\n    }\r\n    \r\n}\r\n\r\nfunction observerObserve(entity) {\r\n    const element = entity.container;\r\n    entity.observer.observe(element, { attributes: true, attributeFilter: ['style'] });\r\n}\r\n\r\n\r\n\r\n\r\nfunction endGame(charsList, enemyList) {\r\n    const levelMessage = document.getElementById('tutorial-message');\r\n    levelMessage.style.display = 'none';\r\n    deSelect();\r\n    const allCharsList = levels[currentLevelNumber].characterList;\r\n    const allEnemyList = levels[currentLevelNumber].enemyList;\r\n    for (let i = 0; i < allCharsList.length; i++) {\r\n        allCharsList[i].observer.disconnect();\r\n        if (allCharsList[i.currentAction]) { clearInterval(allCharsList[i].currentAction); }\r\n        if (allCharsList[i].currentAnimation) { clearInterval(allCharsList[i].currentAnimation); }\r\n        allCharsList[i].container.removeEventListener('click', allyClickEvents);\r\n        allCharsList[i].img.src = allCharsList[i].baseImg.src;\r\n    }\r\n    for (let i = 0; i < allEnemyList.length; i++) {\r\n        allEnemyList[i].observer.disconnect();\r\n        if (allEnemyList[i].currentAction) { clearInterval(allEnemyList[i].currentAction); }\r\n        if (allEnemyList[i].currentAnimation) { clearInterval(allEnemyList[i].currentAnimation); }\r\n        allEnemyList[i].container.removeEventListener('click', enemyClickEvents);\r\n        allEnemyList[i].img.src = allEnemyList[i].baseImg.src;\r\n    }\r\n\r\n    for (let i = 0; i < charsList.length; i++) {\r\n        fadeOut(charsList[i].container);\r\n    }\r\n    for (let i = 0; i < enemyList.length; i++) {\r\n        fadeOut(enemyList[i].container);\r\n    }\r\n    \r\n    let gameFadeTimer = setInterval(() => {\r\n        // console.log('fade called');\r\n        let disp;\r\n        let secondAction;\r\n        if (charsList.length === 0) {\r\n            disp = document.getElementById('game-over-display');\r\n            secondAction = () => resetGame(false);\r\n        } else {\r\n            disp = document.getElementById('game-won-display');\r\n            secondAction = () => resetGame(true);\r\n        }\r\n        disp.style.opacity = 0;\r\n        disp.style.display = '';\r\n        const action = () => fadeOut(disp, secondAction);\r\n        fadeIn(disp, action);\r\n        clearInterval(gameFadeTimer);\r\n    }, 2000);\r\n}\r\n\r\nfunction resetGame(won) {\r\n    livingChars = {};\r\n    livingEnemies = {};\r\n    const deSelectButton = document.getElementById('reset-selected');\r\n    deSelectButton.style.display = 'none';\r\n    const levelButtonContainer = document.getElementById('level-button-container');\r\n    levelButtonContainer.style.display = '';\r\n    if (won && maxLevelNumber === currentLevelNumber && currentLevelNumber < highestLevelAvailable + 1) {\r\n        maxLevelNumber++;\r\n        const levelButtons = document.getElementsByClassName('level-button');\r\n        levelButtons[maxLevelNumber].style.opacity = 100 + '%';\r\n        levelButtons[maxLevelNumber].style.cursor = 'pointer';\r\n    }\r\n    // level.characterList, level.enemyList\r\n    // console.log('levels arr: ', levels);\r\n    // console.log('level ', currentLevelNumber, ': ', levels[currentLevelNumber]);\r\n    const levChars = levels[currentLevelNumber].characterList;\r\n    const levEnems = levels[currentLevelNumber].enemyList;\r\n    for (let i = 0; i < levChars.length; i++) {\r\n        levChars[i].hp = levChars[i].baseHP;\r\n        levChars[i].pos[0] = levChars[i].basePos[0]; levChars[i].pos[1] = levChars[i].basePos[1];\r\n        levChars[i].container.style.top = levChars[i].pos[1] + 'px';\r\n        levChars[i].container.style.left = levChars[i].pos[0] + 'px';\r\n        levChars[i].setHpBars();\r\n    }\r\n    for (let i = 0; i < levEnems.length; i++) {\r\n        levEnems[i].hp = levEnems[i].baseHP;\r\n        levEnems[i].pos[0] = levEnems[i].basePos[0]; levEnems[i].pos[1] = levEnems[i].basePos[1];\r\n        levEnems[i].container.style.top = levEnems[i].pos[1] + 'px';\r\n        levEnems[i].container.style.left = levEnems[i].pos[0] + 'px';\r\n        levEnems[i].setHpBars();\r\n    }\r\n}\r\n\r\nexport default loadLevel;","export function fadeOut(element, action = null) {\r\n    let op = 20;\r\n    let timerDown = setInterval(function () {\r\n        if (op <= 0) {\r\n            clearInterval(timerDown);\r\n            element.style.display = 'none';\r\n            if (action) { action(); }\r\n        }\r\n        element.style.opacity = op / 20;\r\n        op -= 1;\r\n    }, 100);\r\n}\r\n\r\nexport function fadeIn(element, action = null) {\r\n    let op = 0;\r\n    let timerUp = setInterval(function () {\r\n        if (op >= 20) {\r\n            clearInterval(timerUp);\r\n            if (action) { action(); }\r\n        }\r\n        element.style.opacity = op / 20;\r\n        op += 1;\r\n    }, 100);\r\n}"],"sourceRoot":""}