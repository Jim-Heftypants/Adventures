{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/entities/character.js","webpack:///./src/entities/enemy.js","webpack:///./src/entities/entity.js","webpack:///./src/index.js","webpack:///./src/levels/level.js","webpack:///./src/screen_controllers/entity_controller.js"],"names":["Wizard","classCreator","Priest","Rogue","Warrior","EWizard","EPriest","ERogue","EWarrior","Entity","klass","range","maxHP","ms","attackSpeed","attackDMG","allied","img","pos","defense","hp","baseMS","baseAS","as","baseDMG","dmg","imgName","attackImages","moveImages","baseImg","container","currentAction","currentAnimation","imgCycle","target","allies","enemies","movingOutTheWay","endPos","deltaX","deltaY","Math","abs","xChange","yChange","numRepeats","floor","attackOnFinish","clearInterval","src","width","height","posChange","vectorToScalar","console","log","bigDiv","document","getElementById","difference","window","innerWidth","offsetWidth","checker","setInterval","frame","self","autoAttack","style","top","left","widthAddition","heightAddition","entity","display","targetChar","leftBar","rightBar","leftWidth","rightWidth","shuffle","i","length","interval","move","withinAttackRange","movePos","slice","clearIntervals","animateAttack","attack","selectedChar","setTargetAndAttack","trackTarget","charactersStacked","addition","transform","setHpBars","killEntitiy","border","borderInterval","beginAttack","ability","a","j","random","addEventListener","startGameButton","controlsButton","initializeGameOpening","showControls","charactersArr","Object","values","charactersObj","enemiesArr","enemiesObj","Level","name","characterList","enemyList","levelOne","levelTwo","levels","levelsObj","currentLevel","livingEnemies","livingChars","addDeathListener","observer","MutationObserver","mutations","forEach","mutationRecord","c","en","endGame","element","observe","attributes","attributeFilter","charsList","fadeOut","gameFadeTimer","disp","opacity","action","fadeIn","spawnEntity","addInlineStyle","e","stopPropagation","cloneArr","selfIndex","splice","setInitialTargets","chars","targetIndex","getElementsByClassName","hpBar","setupEntities","deSelectButton","loadLevel","level","op","timerDown","beginLevel","timerUp","levelNameDisp","gameContainer","x","y"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import classCreator from './entity';\n\n/*\nclassName\nrange\nmaxHP\nMS\nAS\nDMG\ntrue\nimg\npos\ndefense\n*/\n\n// rdps\nexport const Wizard = new classCreator('Wizard', \"infinite\", 100, 10, 2000, 20, true, \"wizard\", [100, 100], 12);\n\n// heals\nexport const Priest = new classCreator('Cleric', 'infinite', 100, 10, 1500, -10, true, \"cleric\", [400, 100], 10);\n\n// mdps\nexport const Rogue = new classCreator(\"Rogue\", 10, 100, 10, 800, 10, true, \"rogue\", [900, 500], 16)\n\n// tank\nexport const Warrior = new classCreator('Warrior', 10, 100, 10, 1000, 10, true, \"warrior\", [100, 400], 20);","import classCreator from './entity.js';\n\n/*\nclassName\nrange\nmaxHP\nMS\nAS\nDMG\nfalse\npos\ndefense\n*/\n\n// rdps\nexport const EWizard = new classCreator('EWizard', 'infinite', 100, 10, 2000, 20, false, \"ewizard\", [500, 500], 15);\n\n// heals\nexport const EPriest = new classCreator('ECleric', 'infinite', 100, 10, 1500, -10, false, \"ecleric\", [1000, 100], 10);\n\n// mdps\nexport const ERogue = new classCreator(\"ERogue\", 10, 100, 10, 800, 10, false, \"erogue\", [700, 200], 18)\n\n// tank\nexport const EWarrior = new classCreator('EWarrior', 10, 100, 10, 1000, 10, false, \"ewarrior\", [300, 400], 20);","class Entity { // this. is selectedChar\n    constructor(klass=\"\", range=0, maxHP=0, ms=0, attackSpeed=0, attackDMG, allied=true, img=\"\", pos=[0, 0], defense) {\n        this.klass = klass;\n        this.range = range;\n        this.maxHP = maxHP;\n        this.hp = this.maxHP;\n        this.baseMS = ms; // speed / time\n        this.ms = this.baseMS;\n        this.allied = allied; // true === player character\n        this.pos = pos;\n        this.baseAS = attackSpeed;\n        this.as = this.baseAS;\n        this.baseDMG = attackDMG;\n        this.dmg = this.baseDMG;\n        this.defense = defense;\n\n        this.imgName = img;\n        this.img; // base standing image\n        this.attackImages; // cycle through array of images\n        this.moveImages; // cycle through array of images\n        this.baseImg; // standard stand image\n        this.container;\n\n        this.currentAction;\n        this.currentAnimation;\n        this.imgCycle = 0;\n\n        this.target;\n\n        this.allies;\n        this.enemies;\n\n        this.movingOutTheWay = false;\n    }\n\n    vectorToScalar(endPos) {\n        const deltaX = this.pos[0] - endPos[0];\n        const deltaY = this.pos[1] - endPos[1];\n        if (Math.abs(deltaX) + Math.abs(deltaY) === 0) {\n            return ([0, 0, 0]);\n        }\n        let xChange = -1 * this.ms * (deltaX / (Math.abs(deltaX) + Math.abs(deltaY)));\n        let yChange = -1 * this.ms * (deltaY / (Math.abs(deltaY) + Math.abs(deltaX)));\n        if (xChange === 0 || xChange === -0) {\n            xChange = 0;\n            const numRepeats = Math.abs(Math.floor(deltaY / yChange));\n            return ([xChange, yChange, numRepeats])\n        }\n        if (yChange === -0) {\n            yChange = 0;\n        }\n        \n        const numRepeats = Math.abs(Math.floor(deltaX / xChange));\n        return ([xChange, yChange, numRepeats])\n    }\n\n    move(endPos, attackOnFinish = false) {\n        this.movingOutTheWay = true;\n        clearInterval(this.currentAction);\n        clearInterval(this.currentAnimation);\n        this.img.src = this.baseImg.src;\n        endPos[0] = Math.floor(endPos[0] - (this.img.width));\n        endPos[1] = Math.floor(endPos[1] - (this.img.height * (3/4)));\n        let pos = this.pos;\n        let posChange = this.vectorToScalar(endPos);\n        console.log(\"pos change on move\", posChange);\n        const bigDiv = document.getElementById('game-container');\n        const difference = Math.floor((window.innerWidth - bigDiv.offsetWidth) / 2);\n        const checker = difference + Math.floor(bigDiv.offsetWidth);\n        this.currentAction = setInterval(() => frame(this), 20);\n        function frame(self) {\n            if (posChange[2] === 0) {\n            // close animation\n                clearInterval(self.currentAction);\n                self.movingOutTheWay = false;\n                pos[0] = Math.floor(pos[0]); pos[1] = Math.floor(pos[1]);\n                if (attackOnFinish) {\n                    // console.log('self in move end: ', self);\n                    self.autoAttack(attackOnFinish); // needs editing\n                }\n            } else { // need to add something for if (attackOnFinish) then update move destination to be the target's new position (with the modifiers)\n            // begin some kind of animation\n                pos[0] += posChange[0]; pos[1] += posChange[1];\n                if (pos[0] + Math.floor((3 * self.img.width) / 2) + 50 > checker) { pos[0] = checker - (Math.floor((3 * self.img.width) / 2) + 50);}\n                if (pos[0] < 15) {pos[0] = 15;}\n                if (pos[1] + Math.floor(self.img.height) > 800) { pos[1] = 800 - Math.floor(self.img.height);}\n                if (pos[1] < 15) {pos[1] = 15;}\n                // console.log('posChange: ', posChange);\n                // console.log('pos: ', pos);\n                self.container.style.top = Math.floor(pos[1]) + 'px';\n                self.container.style.left = Math.floor(pos[0]) + 'px';\n                posChange[2] -= 1;\n            }\n        }\n    }\n\n    withinAttackRange(target) {\n        // console.log('this in withinAttackRange: ', this);\n        if (this.range === 'infinite') { return true; }\n        // rectangle box for melee\n        const widthAddition = Math.floor((this.img.width / 2) + (target.img.width / 2));\n        if (this.pos[0] > target.pos[0] - widthAddition - this.range && this.pos[0] < target.pos[0] + widthAddition + this.range) {\n            const heightAddition = Math.floor(this.img.height / 4);\n            // console.log(\"this pos: \", this.pos);\n            // console.log(\"target pos: \", target.pos);\n            if (this.pos[1] > target.pos[1] - heightAddition && this.pos[1] < target.pos[1] + heightAddition) {\n                // console.log('within melee range');\n                return true;\n            }\n        }\n        // console.log('outside of range');\n        return false;\n    }\n\n    killEntitiy(entity) {\n        console.log(entity.klass, \"killed\");\n        clearInterval(entity.currentAction);\n        clearInterval(entity.currentAnimation);\n        entity.img.src = entity.baseImg.src;\n        entity.hp = -100;\n        entity.container.style.display = \"none\";\n    }\n\n    animateAttack(self) {\n        if (self.attackImages) {\n            self.imgCycle += 1;\n            self.imgCycle = self.imgCycle % 4;\n            self.img.src = self.attackImages[self.imgCycle].src;\n        }\n    }\n\n    setHpBars(targetChar) {\n        const leftBar = document.getElementById(`${targetChar.imgName}-hp-left`);\n        const rightBar = document.getElementById(`${targetChar.imgName}-hp-right`);\n        let leftWidth = Math.floor((targetChar.hp / targetChar.maxHP) * 100);\n        let rightWidth = 100 - leftWidth;\n        if (leftWidth < 0) leftWidth = 0;\n        if (rightWidth < 0) rightWidth = 0;\n        leftBar.style.width = leftWidth + '%';\n        rightBar.style.width = rightWidth + '%';\n    }\n\n    setTargetAndAttack() {\n        console.log(this.klass, \"has finished attacking\", this.target.klass);\n\n        if (this.baseDMG > 0) {\n            this.enemies = shuffle(this.enemies);\n            for (let i = 0; i < this.enemies.length; i++) {\n                if (this.enemies[i].hp > 0) {\n                    this.target = this.enemies[i];\n                }\n            }\n            if (this.target.hp < 0) { return; }\n        } else {\n            this.allies = shuffle(this.allies);\n            for (let i = 0; i < this.allies.length; i++) {\n                if (this.allies[i].hp > 0) {\n                    this.target = this.allies[i];\n                }\n            }\n            if (this.target.hp < 0) { return; }\n        }\n        console.log(this.klass, \"is now attacking\", this.target.klass);\n        this.autoAttack(this.target);\n    }\n\n    charactersStacked() {\n        for (let i = 0; i < this.allies.length; i++) {\n            if (!this.allies[i].movingOutTheWay) {                \n                const widthAddition = Math.floor(this.img.width / 2);\n                if (this.pos[0] > this.allies[i].pos[0] - widthAddition - this.range && this.pos[0] < this.allies[i].pos[0] + widthAddition + this.range) {\n                    const heightAddition = Math.floor(((this.img.height / 2) + (this.allies[i].img.height / 2)) / 2);\n                    if (this.pos[1] > this.allies[i].pos[1] - heightAddition && this.pos[1] < this.allies[i].pos[1] + heightAddition) {\n                        console.log(this.klass, \"is moving to avoid\", this.allies[i].klass);\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n\n    trackTarget() { // hot code\n        const bigDiv = document.getElementById('game-container');\n        const difference = Math.floor((window.innerWidth - bigDiv.offsetWidth) / 2);\n        const checker = difference + Math.floor(bigDiv.offsetWidth);\n        let interval = setInterval(() => move(this), 20);\n        function move(self) {\n            if (self.withinAttackRange(self.target)) {\n                clearInterval(interval);\n                self.autoAttack(self.target);\n                console.log('auto attack called from track');\n            } else {\n                const pos = self.pos;\n                let movePos = self.target.pos.slice();\n                let posChange = self.vectorToScalar(movePos);\n                pos[0] += posChange[0]; pos[1] += posChange[1];\n                if (pos[0] + Math.floor(self.img.width) > checker) { pos[0] = checker - Math.floor(self.img.width); }\n                if (pos[0] < 15) { pos[0] = 15; }\n                if (pos[1] + Math.floor(self.img.height) > 850) { pos[1] = 850 - Math.floor(self.img.height); }\n                if (pos[1] < 15) { pos[1] = 15; }\n                self.container.style.top = Math.floor(pos[1]) + 'px';\n                self.container.style.left = Math.floor(pos[0]) + 'px';\n            }\n        }\n    }\n\n    beginAttack(targetChar) {\n        // make some kind of animation start\n        this.clearIntervals();\n        this.currentAnimation = setInterval(() => this.animateAttack(this), Math.floor(this.as / 4))\n        this.currentAction = setInterval(() => attack(this), this.as);\n        function attack(selectedChar) {\n            if (targetChar.hp <= 0) {\n                selectedChar.clearIntervals();\n                if (!selectedChar.allied) {\n                    // chose another hero to attack\n                    selectedChar.setTargetAndAttack();\n                    // maybe add something in for player to auto target upon deaths ?\n                }\n                return;\n            }\n            if (!selectedChar.withinAttackRange(targetChar)) {\n            // stop the animation\n                selectedChar.clearIntervals();\n                console.log(selectedChar.klass, 'too far from', targetChar.klass, 'during attack - moving to new location');\n                selectedChar.trackTarget();\n                return;\n                // move to enemy's new location -- needs to track current position\n            } else if (selectedChar.charactersStacked()) {\n                selectedChar.movingOutTheWay = true;\n                const addition = Math.floor(((selectedChar.img.width / 2) + (targetChar.img.width / 2)) / 2);\n                if (selectedChar.img.style.transform === \"scaleX(-1)\") {\n                    // move to left side of target\n                    selectedChar.img.style.transform = \"scaleX(1)\";\n                    selectedChar.move([targetChar.pos[0] - addition, targetChar.pos[1] + Math.floor(targetChar.img.height / 2)], targetChar)\n                } else {\n                    // move to right side of target;\n                    selectedChar.img.style.transform = \"scaleX(-1)\";\n                    selectedChar.move([targetChar.pos[0] + (3 * addition), targetChar.pos[1] + Math.floor(targetChar.img.height / 2)], targetChar)\n                }\n            } else {\n                targetChar.hp -= selectedChar.dmg;\n                if (targetChar.hp > targetChar.maxHP) { targetChar.hp = targetChar.maxHP; }\n                if (!targetChar.allied && selectedChar.allied && targetChar.baseDMG > 0 && selectedChar.defense > targetChar.target.defense) {\n                    targetChar.target = selectedChar;\n                    targetChar.clearIntervals();\n                    targetChar.autoAttack(targetChar.target);\n                    console.log('enemy is now targetting: ', selectedChar);\n                }\n                // hp finalized\n                selectedChar.setHpBars(targetChar);\n                \n                // console.log('target hp at: ', targetChar.hp);\n                if (targetChar.hp <= 0) {\n                    // stop the animation\n                    selectedChar.clearIntervals();\n                    console.log('attack interval stopped');\n                    selectedChar.killEntitiy(targetChar);\n                    if (!selectedChar.allied) {\n                        // chose another hero to attack\n                        selectedChar.setTargetAndAttack();\n                    }\n                }\n                if (selectedChar.baseDMG > 0) {\n                    targetChar.img.style.border = \"2px solid red\";\n                } else {\n                    targetChar.img.style.border = \"2px solid green\";\n                }\n                let borderInterval = setInterval(() => {\n                    targetChar.img.style.border = \"none\";\n                    clearInterval(borderInterval);\n                }, 500);\n            }\n        }\n    }\n\n    autoAttack(targetChar) {\n        // console.log('auto attack target: ', targetChar);\n        if (this.allied) { this.target = targetChar; } // can refactor out targets\n        if (this.withinAttackRange(targetChar)) {\n            if (this.pos[0] < targetChar.pos[0]) {\n                this.img.style.transform = \"scaleX(1)\";\n            } else {\n                this.img.style.transform = \"scaleX(-1)\";\n            }\n            this.beginAttack(targetChar);\n        } else {\n            this.trackTarget();\n        }\n    }\n\n    clearIntervals() {\n        clearInterval(this.currentAction);\n        clearInterval(this.currentAnimation);\n        this.img.src = this.baseImg.src;\n    }\n\n    useAbility(ability) {\n\n    }\n\n}\n\nfunction shuffle(a) {\n    for (let i = a.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [a[i], a[j]] = [a[j], a[i]];\n    }\n    return a;\n}\n\nexport default Entity;","// import * as characters from './entities/character';\n// import * as enemies from './entities/enemy';\nimport initializeGameOpening from './screen_controllers/entity_controller';\nimport showControls from './screen_controllers/controls';\n\nwindow.addEventListener('load', () => {\n    const startGameButton = document.getElementById('start-game-button');\n    const controlsButton = document.getElementById('game-controls-button');\n    startGameButton.addEventListener('click', () => {\n        startGameButton.style.display = \"none\";\n        controlsButton.style.display = 'none';\n        initializeGameOpening();\n    })\n    controlsButton.addEventListener('click', () => {\n        startGameButton.style.display = \"none\";\n        controlsButton.style.display = 'none';\n        showControls();\n    })\n})","import * as charactersObj from '../entities/character';\r\nimport * as enemiesObj from '../entities/enemy';\r\n\r\nconst charactersArr = Object.values(charactersObj);\r\nconst enemiesArr = Object.values(enemiesObj);\r\n\r\nclass Level {\r\n    constructor(name, characterList, enemyList) {\r\n        this.name = name;\r\n        this.characterList = characterList;\r\n        this.enemyList = enemyList;\r\n    }\r\n}\r\n\r\nexport const levelOne = new Level('one', charactersArr, enemiesArr);\r\n\r\nexport const levelTwo = new Level('two', charactersArr, enemiesArr);","import * as levelsObj from '../levels/level';\r\n\r\nconst levels = Object.values(levelsObj);\r\nlet currentLevel = levels[0];\r\n\r\nlet selectedChar;\r\n\r\nlet livingEnemies = {};\r\nlet livingChars = {};\r\n\r\nfunction addDeathListener(entity) {\r\n    let observer = new MutationObserver(function(mutations) {\r\n        mutations.forEach(function(mutationRecord) {\r\n            // console.log(entity.klass, 'style changed');\r\n            // console.log(mutationRecord);\r\n            if (mutationRecord.target.style.display === 'none') {\r\n                console.log(entity.klass, 'style === none');\r\n                if (entity.allied) {\r\n                    delete livingChars[entity.klass];\r\n                } else {\r\n                    delete livingEnemies[entity.klass];\r\n                }\r\n                const c  = Object.values(livingChars);\r\n                const en = Object.values(livingEnemies);\r\n                if (c.length === 0 || en.length === 0) {\r\n                    endGame(c, en);\r\n                }\r\n            }\r\n        });\r\n    })\r\n\r\n    const element = entity.container;\r\n    observer.observe(element, { attributes : true, attributeFilter : ['style'] });\r\n}\r\n\r\nfunction endGame(charsList, enemyList) {\r\n    for (let i = 0; i < charsList.length; i++) {\r\n        // fade out no action\r\n        fadeOut(charsList[i].container);\r\n    }\r\n    for (let i = 0; i < enemyList.length; i++) {\r\n        // fade out no action\r\n        fadeOut(enemyList[i].container);\r\n    } \r\n    \r\n    let gameFadeTimer = setInterval(() => {\r\n        console.log('fade called');\r\n        let disp;\r\n        if (charsList.length === 0) {\r\n            disp = document.getElementById('game-over-display');\r\n        } else {\r\n            disp = document.getElementById('game-won-display');\r\n        }\r\n        disp.style.opacity = 0;\r\n        disp.style.display = '';\r\n        const action = () => fadeOut(disp);\r\n        fadeIn(disp, action);\r\n        clearInterval(gameFadeTimer);\r\n    }, 2000);\r\n}\r\n\r\nfunction spawnEntity(entity, allies, enemies) {\r\n    if (entity.imgName != \"\") {\r\n        addInlineStyle(entity);\r\n        const action = () => {\r\n            if (entity.allied) {\r\n                addDeathListener(entity);\r\n                entity.container.addEventListener(\"click\", (e) => {\r\n                    console.log('character click');\r\n                    if (!selectedChar || selectedChar.hp < 0) {\r\n                        selectedChar = entity;\r\n                        console.log('selected char: ', selectedChar.klass);\r\n                    } else if (selectedChar.baseDMG < 0) {\r\n                        selectedChar.autoAttack(entity);\r\n                        selectedChar = null;\r\n                    }\r\n                    e.stopPropagation();\r\n                })\r\n            } else {\r\n                entity.container.addEventListener(\"click\", (e) => {\r\n                    if (selectedChar.hp < 0) {\r\n                        selectedChar = null;\r\n                        return;\r\n                    }\r\n                    console.log('enemy click');\r\n                    if (selectedChar && selectedChar.allied && selectedChar.baseDMG > 0) {\r\n                        selectedChar.autoAttack(entity);\r\n                        selectedChar = null;\r\n                    }\r\n                    e.stopPropagation(); // maybe move inside if\r\n                })\r\n            }\r\n            entity.enemies = enemies;\r\n            const cloneArr = allies.slice();\r\n            let selfIndex;\r\n            for (let i = 0; i < cloneArr.length; i++) {\r\n                if (cloneArr[i].klass === entity.klass) { selfIndex = i; }\r\n            }\r\n            // remove self from allies list to prevent moving out of self image (healers excluded)\r\n            if (entity.baseDMG > 0) { cloneArr.splice(selfIndex, 1); }\r\n            entity.allies = cloneArr;\r\n            if (!entity.allied) {\r\n                entity.autoAttack(entity.target);\r\n            }\r\n        };\r\n        fadeIn(entity.container, action);\r\n    } else {\r\n        console.log('broken image passed in for', entity.klass);\r\n    }\r\n}\r\n\r\nfunction setInitialTargets(chars, enemies) {\r\n    for (let i = 0; i < enemies.length; i++) {\r\n        if (enemies[i].baseDMG > 0) {\r\n            const targetIndex = Math.floor(Math.random() * chars.length);\r\n            enemies[i].target = chars[targetIndex];\r\n        } else {\r\n            const targetIndex = Math.floor(Math.random() * enemies.length);\r\n            enemies[i].target = enemies[targetIndex];\r\n        }\r\n        console.log(enemies[i].klass, \"has target set to\", enemies[i].target);\r\n    }\r\n}\r\n\r\nfunction addInlineStyle(entity) {\r\n    entity.img = document.getElementsByClassName(entity.imgName + \"-image-display\")[0];\r\n    entity.baseImg = document.getElementsByClassName(entity.imgName)[0]\r\n    entity.img.src = entity.baseImg.src;\r\n    entity.attackImages = document.getElementsByClassName(entity.imgName);\r\n    const hpBar = document.getElementById(`${entity.imgName}-hp-bar`);\r\n    entity.container = document.getElementById(`${entity.imgName}-display`);\r\n    entity.container.style.opacity = 0; // fading in so started at op 0\r\n    entity.img.style.display = \"\";\r\n    hpBar.style.display = \"flex\";\r\n    entity.container.style.left = entity.pos[0] + \"px\";\r\n    entity.container.style.top = entity.pos[1] + \"px\";\r\n}\r\n\r\nfunction setupEntities(charactersArr, enemiesArr) {\r\n    for (let i = 0; i < charactersArr.length; i++) {\r\n        livingChars[charactersArr[i].klass] = charactersArr[i];\r\n        spawnEntity(charactersArr[i], charactersArr, enemiesArr);\r\n    }\r\n    for (let i = 0; i < enemiesArr.length; i++) {\r\n        livingEnemies[enemiesArr[i].klass] = enemiesArr[i];\r\n        spawnEntity(enemiesArr[i], enemiesArr, charactersArr);\r\n    }\r\n}\r\n\r\nfunction initializeGameOpening() {\r\n    const deSelectButton = document.getElementById('reset-selected');\r\n    deSelectButton.style.display = '';\r\n    loadLevel(currentLevel);\r\n}\r\n\r\nfunction fadeOut(element, level=null) {\r\n    let op = 20;\r\n    let timerDown = setInterval(function () {\r\n        if (op <= 0) {\r\n            clearInterval(timerDown);\r\n            element.style.display = 'none';\r\n            if (level) {\r\n                beginLevel(level.characterList, level.enemyList);\r\n            }\r\n        }\r\n        element.style.opacity = op / 20;\r\n        op -= 1;\r\n    }, 100);\r\n}\r\n\r\nfunction fadeIn(element, action=null) {\r\n    let op = 0;\r\n    let timerUp = setInterval(function () {\r\n        if (op >= 20) {\r\n            clearInterval(timerUp);\r\n            if (action) { action() }\r\n        }\r\n        element.style.opacity = op / 20;\r\n        op += 1;\r\n    }, 100);\r\n}\r\n\r\nfunction loadLevel(level) {\r\n    const levelNameDisp = document.getElementById(`level-${level.name}-name`);\r\n    levelNameDisp.style.opacity = 0;\r\n    levelNameDisp.style.display = '';\r\n    const action = () => fadeOut(levelNameDisp, level);\r\n    fadeIn(levelNameDisp, action);\r\n}\r\n\r\nfunction beginLevel(charactersArr, enemiesArr) {\r\n    console.log('load game called');\r\n    setInitialTargets(charactersArr, enemiesArr);\r\n\r\n    const deSelectButton = document.getElementById('reset-selected');\r\n    deSelectButton.addEventListener('click', () => {\r\n        selectedChar = null;\r\n    })\r\n\r\n    setupEntities(charactersArr, enemiesArr);\r\n\r\n    // end click position\r\n    const gameContainer = document.getElementById('game-container');\r\n    gameContainer.addEventListener(\"click\", (e) => {\r\n        console.log(e);\r\n        if (selectedChar) {\r\n            if (selectedChar.hp < 0) {\r\n                selectedChar = null;\r\n                return;\r\n            }\r\n            selectedChar.move([e.x, e.y]);\r\n            selectedChar = null;\r\n        }\r\n    })\r\n}\r\n\r\nexport default initializeGameOpening;"],"sourceRoot":""}